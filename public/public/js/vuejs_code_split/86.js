(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{223:function(e,t,r){"use strict";r.r(t);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={name:"UserAdd",data:function(){return{user:{name:"",password:"",phone:"",email:"",division_id:"",role_id:"",sub_div:"",created_by:""},errors:{},error:null,userDivisionId:this.$store.getters.currentUser.division_id,userRoleID:this.$store.getters.currentUser.role_id}},mounted:function(){console.log(this.userDivisionId),console.log(s(this.userDivisionId))},methods:{registerUser:function(){var e=this;this.user.created_by=this.$store.getters.currentUser.id,axios.post("/api/createUser",this.user,{headers:{Authorization:"Bearer ".concat(this.$store.getters.currentUser.token)}}).then((function(t){e.$router.push({path:"/userList"})})).catch((function(t){e.errors=t.response.data.errors}))},errorName:function(){if(this.hasErrorName)return"Please Enter Engineer's name"},errorRole_id:function(){if(this.hasErrorRole_id)return"Enter Post"},errorEmail:function(){if(this.hasErrorEmail)return"Re Enter Email"},errorPhone:function(){if(this.hasErrorPhone)return"Check Phone number( must be 10 digits)"},errorPassword:function(){if(this.hasErrorPassword)return"Check Phone number( must be 10 digits)"},errorDivision_id:function(){if(this.hasErrorDivision_id)return"Select division"},updateName:function(){this.errors.name=null},updatePassword:function(){this.errors.password=null},updatePhone:function(){this.errors.phone=null},updateDivision_id:function(){this.errors.division_id=null},updateEmail:function(){this.errors.email=null},updateRole_id:function(){this.errors.role_id=null}},computed:{hasErrorName:function(){return this.errors&&this.errors.name&&this.errors.name.length>0},hasErrorPassword:function(){return this.errors&&this.errors.password&&this.errors.password.length>0},hasErrorEmail:function(){return this.errors&&this.errors.email&&this.errors.email.length>0},hasErrorPhone:function(){return this.errors&&this.errors.phone&&this.errors.phone.length>0},hasErrorDivision_id:function(){return this.errors&&this.errors.division_id&&this.errors.division_id.length>0},hasErrorRole_id:function(){return this.errors&&this.errors.role_id&&this.errors.role_id.length>0}}},i=r(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col h-screen mt-10"},[r("div",{staticClass:"w-full h-auto bg-white border-gray-200 rounded-t-lg rounded-b-lg md:w-2/3 lg:w-1/2 xl:w-1/3"},[r("div",{staticClass:"px-5 py-1 mb-5 col-md-8 col-md-offset-2"},[r("div",{staticClass:"py-2 pr-4 text-lg font-bold text-gray-600"},[e._v("Add New User")]),e._v(" "),r("div",[r("form",{on:{submit:function(t){return t.preventDefault(),e.registerUser.apply(null,arguments)}}},[r("div",{staticClass:"relative pt-2"},[r("label",{staticClass:"absolute px-2 py-1 text-xs uppercase text-textblue"},[e._v("Name:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"w-full px-2 pt-6 pb-1 text-gray-900 border rounded-lg focus:outline-none ",attrs:{type:"text",placeholder:"Hming"},domProps:{value:e.user.name},on:{input:[function(t){t.target.composing||e.$set(e.user,"name",t.target.value)},function(t){return e.updateName()}]}})]),e._v(" "),r("p",{staticClass:"pb-1 text-sm text-red-600",domProps:{textContent:e._s(e.errorName())}},[e._v("Error Here")]),e._v(" "),r("div",{staticClass:"relative pt-2 "},[r("label",{staticClass:"absolute px-2 text-xs uppercase p1-2 text-textblue"},[e._v("Email:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"w-full px-2 pt-6 pb-1 text-gray-900 border rounded-lg focus:outline-none ",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:[function(t){t.target.composing||e.$set(e.user,"email",t.target.value)},function(t){return e.updateEmail()}]}})]),e._v(" "),r("p",{staticClass:"pb-1 text-sm text-red-600",domProps:{textContent:e._s(e.errorEmail())}},[e._v("Error Here")]),e._v(" "),r("div",{staticClass:"relative pt-2 "},[r("label",{staticClass:"absolute px-2 py-1 text-xs uppercase text-textblue"},[e._v("Password:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"w-full px-2 pt-6 pb-1 text-gray-900 border rounded-lg focus:outline-none ",attrs:{type:"text",placeholder:"Password"},domProps:{value:e.user.password},on:{input:[function(t){t.target.composing||e.$set(e.user,"password",t.target.value)},function(t){return e.updatePassword()}]}})]),e._v(" "),r("p",{staticClass:"pb-1 text-sm text-red-600",domProps:{textContent:e._s(e.errorPassword())}},[e._v("Error Here")]),e._v(" "),r("div",{staticClass:"relative pt-2 "},[r("label",{staticClass:"absolute px-2 py-1 text-xs uppercase text-textblue"},[e._v("Phone:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],staticClass:"w-full px-2 pt-6 pb-1 text-gray-900 border rounded-lg focus:outline-none ",attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.user.phone},on:{input:[function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)},function(t){return e.updatePhone()}]}})]),e._v(" "),r("p",{staticClass:"pb-1 text-sm text-red-600",domProps:{textContent:e._s(e.errorPhone())}},[e._v("Error Here")]),e._v(" "),r("div",[r("label",{staticClass:"pr-4 text-lg font-bold text-gray-600"},[e._v("Division:")]),e._v(" "),r("div",{staticClass:"relative pb-1 border rounded-lg"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.division_id,expression:"user.division_id"}],staticClass:"w-full px-3 pt-2 pb-1 mt-1 ml-1 bg-white rounded-lg appearance-none text-textgrayform focus:outline-none",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.user,"division_id",t.target.multiple?r:r[0])},function(t){return e.updateDivision_id()}]}},[r("option",{staticClass:"inline-block text-textgrayform",attrs:{value:"",disabled:"",selected:""}},[e._v("Select\n                                        Division")]),e._v(" "),1==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"1"}},[e._v("Aizawl Road South")])]:e._e(),e._v(" "),2==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"2"}},[e._v("Aizawl Road North")])]:e._e(),e._v(" "),4==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"4"}},[e._v("Champhai Road")])]:e._e(),e._v(" "),5==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"5"}},[e._v("Lunglei Road")])]:e._e(),e._v(" "),6==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"6"}},[e._v("Saitual Road")])]:e._e(),e._v(" "),7==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"7"}},[e._v("Mamit Road")])]:e._e(),e._v(" "),8==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"8"}},[e._v("Siaha Road")])]:e._e(),e._v(" "),9==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"9"}},[e._v("Khawzawl Road")])]:e._e(),e._v(" "),10==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"10"}},[e._v("Kolasib Road")])]:e._e(),e._v(" "),11==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"11"}},[e._v("Lawngtlai Road")])]:e._e(),e._v(" "),12==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"12"}},[e._v("Serchhip Road")])]:e._e(),e._v(" "),13==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"13"}},[e._v("Lunglei Road Div-II, Hnahthial Road")])]:e._e(),e._v(" "),14==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"14"}},[e._v("Hmuifang Division Road")])]:e._e(),e._v(" "),15==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"15"}},[e._v("National Highway Div-I Road")])]:e._e(),e._v(" "),16==e.userDivisionId||1==e.userRoleID?[r("option",{attrs:{value:"16"}},[e._v("National Highway Div-III Road")])]:e._e()],2)]),e._v(" "),r("p",{staticClass:"pb-1 text-sm text-red-600",domProps:{textContent:e._s(e.errorDivision_id())}},[e._v("Error Here")])]),e._v(" "),r("br"),e._v(" "),r("label",{staticClass:"pt-2 pr-4 text-lg font-bold text-gray-600"},[e._v("Sub-Division:")]),e._v(" "),r("div",{staticClass:"relative pb-1 border rounded-lg"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.sub_div,expression:"user.sub_div"}],staticClass:"w-full px-3 pt-3 mt-1 ml-1 bg-white rounded-lg appearance-none text-textgrayform focus:outline-none",attrs:{errors:e.errors},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.user,"sub_div",t.target.multiple?r:r[0])}}},[r("option",{staticClass:"inline-block text-textgrayform ",attrs:{value:"",disabled:"",selected:""}},[e._v("Select\n                                    Sub Division")]),e._v(" "),r("option",{attrs:{value:"1"}},[e._v("Sub Division - I")]),e._v(" "),r("option",{attrs:{value:"2"}},[e._v("Sub Division - II")]),e._v(" "),r("option",{attrs:{value:"3"}},[e._v("Sub Division - III")])])]),e._v(" "),r("br"),e._v(" "),r("div",[r("label",{staticClass:"pr-4 text-lg font-bold text-gray-600"},[e._v("Role:")]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"flex justify-evenly"},[1==e.userRoleID?[r("label",{staticClass:"cursor-pointer hover:text-gray-600"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role_id,expression:"user.role_id"}],staticClass:"hover:text=blue=400  pr-4",attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.user.role_id,"1")},on:{input:function(t){return e.updateRole_id()},change:function(t){return e.$set(e.user,"role_id","1")}}}),e._v(" Super Admin")])]:e._e(),e._v(" "),r("label",{staticClass:"cursor-pointer hover:text-gray-600"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role_id,expression:"user.role_id"}],staticClass:"hover:text-blue-400 ",attrs:{type:"radio",value:"2"},domProps:{checked:e._q(e.user.role_id,"2")},on:{input:function(t){return e.updateRole_id()},change:function(t){return e.$set(e.user,"role_id","2")}}}),e._v("\n                                    EE ")]),e._v(" "),r("label",{staticClass:"cursor-pointer hover:text-gray-600"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role_id,expression:"user.role_id"}],staticClass:"hover:text-blue-400 ",attrs:{type:"radio",value:"3"},domProps:{checked:e._q(e.user.role_id,"3")},on:{input:function(t){return e.updateRole_id()},change:function(t){return e.$set(e.user,"role_id","3")}}}),e._v("\n                                    SDO/JE")])],2)]),e._v(" "),r("p",{staticClass:"pb-4 text-sm text-red-600",domProps:{textContent:e._s(e.errorRole_id())}},[e._v("Error Here")]),e._v(" "),r("br"),r("br"),e._v(" "),e._m(0)])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",[t("button",{staticClass:"px-3 py-1 text-white bg-green-400 border rounded-lg hover:bg-green-300",attrs:{type:"submit"}},[this._v("\n                                    Submit\n                                ")])])])}],!1,null,null,null);t.default=n.exports}}]);